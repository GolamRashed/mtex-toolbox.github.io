
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>Misorientations at grain boundaries (DocHelp Toolbox)
         
      </title>
      <!-- DOCNAME: DocHelp Toolbox -->
      <meta name="chunktype" content="refpage">
      <!-- CHUNKNAME: BoundaryMisorientations -->
      <!-- HEADSTUFF: BoundaryMisorientations -->
      <!-- HEADSTUFF -->
      <meta name="refentity" content="method:BoundaryMisorientations">
      <meta http-equiv="Content-Script-Type" content="text/javascript">
      <meta name="toctype" content="fcn">
      <link rel="stylesheet" href="up.css"><script language="JavaScript" src="docscripts.js"></script></head>
   <body><a name="top_of_page"></a><div class="navbar navbar-inverse navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container"><a class="brand" href="/">MTEX Toolbox</a><ul class="nav">
                  <li><a href="/download.html">Downloads</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/documentation.html">Documentation</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/team.html">People</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/publications.html">Publications</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/support.html">Support</a></li>
               </ul>
            </div>
         </div>
      </div>
      <div class="container">
         <h1>Misorientations at grain boundaries</h1>
         <div class="subheading">
            <p>Analyse misorientations along grain boundaries</p>
         </div>
         <h2>Import EBSD data and select a subregion<a name="1"> </a></h2><pre class="codeinput">plotx2east
mtexdata <span class="string">forsterite</span>
<span class="comment">%</span>
<span class="comment">% correct EBSD spatial coordinates</span>
<span class="comment">%</span>
<span class="comment">%</span>
<span class="comment">%             O************O xmax,ymax</span>
<span class="comment">%             *            *</span>
<span class="comment">%             * selected   *</span>
<span class="comment">%             * subregion  *</span>
<span class="comment">%             *            *</span>
<span class="comment">%   xmin,ymin O************O</span>
<span class="comment">%</span>
xmin = 7000;
ymin = 4500;
xmax = 20000;
ymax = 8100;
region = [xmin ymin xmax-xmin ymax-ymin];

plot(ebsd)
rectangle(<span class="string">'position'</span>,region,<span class="string">'edgecolor'</span>,<span class="string">'r'</span>,<span class="string">'linewidth'</span>,2)

<span class="comment">% select EBSD data within region and printout to command window</span>
condition = inpolygon(ebsd,region); <span class="comment">% select indices by polygon</span>
ebsd = ebsd(condition);</pre><img src="BoundaryMisorientations_01.png"> <h2>Grain modelling prototcole - using indexed points and segmentation angle<a name="2"> </a></h2>
         <p>and re-calculate grain model to cleanup grain boundaries</p><pre class="codeinput"><span class="comment">% segmentation angle typically 10 to 15 degrees</span>
seg_angle = 10;

<span class="comment">% minimum indexed points per grain between 5 and 10</span>
min_points = 10;

<span class="comment">% Restrict to indexed only points</span>
[grains,ebsd.grainId,ebsd.mis2mean] = calcGrains(ebsd(<span class="string">'indexed'</span>),<span class="string">'angle'</span>,seg_angle*degree);

<span class="comment">% Remove small grains with less than min_points indexed points</span>
grains = grains(grains.grainSize &gt; min_points);

<span class="comment">% Re-calculate grain model to cleanup grain boundaries with less than minimum index points</span>
<span class="comment">% used ebsd points within grains having the minium indexed number of points (e.g. 10 points)</span>
ebsd = ebsd(grains);
[grains,ebsd.grainId,ebsd.mis2mean] = calcGrains(ebsd(<span class="string">'indexed'</span>),<span class="string">'angle'</span>,seg_angle*degree);

<span class="comment">% smooth grains</span>
grains = smooth(grains,4)</pre><pre class="codeoutput"> 
grains = grain2d  
 
 Phase  Grains  Pixels     Mineral  Symmetry  Crystal reference frame
     1      46   12891  Forsterite       mmm                         
     2      11    1287   Enstatite       mmm                         
     3      10     448    Diopside     12/m1        X||a, Y||b, Z||c*
 
 boundary segments: 2957
 triple points: 95
 
 Properties: GOS, meanRotation
 
</pre><p>plot the data</p><pre class="codeinput"><span class="comment">%plot(ebsd('fo'),ebsd('fo').orientations,'micronbar','off')</span>
plot(grains(<span class="string">'fo'</span>),grains(<span class="string">'fo'</span>).meanOrientation,<span class="string">'micronbar'</span>,<span class="string">'off'</span>,<span class="string">'figSize'</span>,<span class="string">'large'</span>)
hold <span class="string">on</span>
plot(grains.boundary)
hold <span class="string">off</span></pre><pre class="codeoutput">  I'm going to colorize the orientation data with the 
  standard MTEX colorkey. To view the colorkey do:
 
  oM = ipdfHSVOrientationMapping(ori_variable_name)
  plot(oM)
</pre><img src="BoundaryMisorientations_02.png"> <h2>Visualize the misorientation angle at grain boundaries<a name="4"> </a></h2><pre class="codeinput"><span class="comment">% Use boundary('Fo','Fo') to chose only Fo-Fo boundaries</span>
gB = grains.boundary.reorder;
gB_FoFo = gB(<span class="string">'Fo'</span>,<span class="string">'Fo'</span>);

<span class="comment">% visualize the misorientation angle</span>
<span class="comment">% draw the boundary in black very thick</span>
hold <span class="string">on</span>
plotOrdered(gB_FoFo,<span class="string">'linewidth'</span>,4);

<span class="comment">% and on top of it the boundary colorized according to the misorientation</span>
<span class="comment">% angle</span>
hold <span class="string">on</span>
plotOrdered(gB_FoFo,gB_FoFo.misorientation.angle./degree,<span class="string">'linewidth'</span>,2);
<span class="comment">%plot(gB_FoFo,gB_FoFo.misorientation.angle./degree,'linewidth',5);</span>
hold <span class="string">off</span>
mtexColorMap <span class="string">jet</span>
mtexColorbar(<span class="string">'title'</span>,<span class="string">'misorientation angle'</span>)</pre><pre class="codeoutput">e = 
  PropertyEvent with properties:

    AffectedObject: [1&times;1 ColorBar]
            Source: [1&times;1 matlab.graphics.internal.GraphicsMetaProperty]
         EventName: 'PostSet'
</pre><img src="BoundaryMisorientations_03.png"> <h2>Visualize the misorientation axes in specimen coordinates<a name="5"> </a></h2>
         <p>Computing the misorientation axes in specimen coordinates can not be done using the boundary misorientations only. In fact,
            we require the orientations on both sides of the grain boundary. Lets extract them first.
         </p><pre class="codeinput"><span class="comment">% do only consider every third boundary segment</span>
Sampling_N=3;
gB_FoFo = gB_FoFo(1:Sampling_N:end);

<span class="comment">% the following command gives a Nx2 matrix of orientations which contains</span>
<span class="comment">% for each boundary segment the orientation on both sides of the boundary.</span>
ori = ebsd(gB_FoFo.ebsdId).orientations;

<span class="comment">% the misorientation axis in specimen coordinates</span>
gB_axes_FoFo = axis(ori(:,1),ori(:,2));

<span class="comment">% axes can be plotted using the command quiver</span>
hold <span class="string">on</span>
quiver(gB_FoFo,gB_axes_FoFo,<span class="string">'linewidth'</span>,1,<span class="string">'color'</span>,<span class="string">'k'</span>,<span class="string">'autoScaleFactor'</span>,0.3)
hold <span class="string">off</span></pre><img src="BoundaryMisorientations_04.png"> <p>Note, the shorte the axes the more they stick out of the surface. What may be a bit surprising is that the misorientations
            axes have some abrupt changes at the left hands side grain boundary. The reason for this is that the misorientations angle
            at this boundary is close to the maximum misorientation angle of 120 degree. As a consequence, slight changes in the misorientation
            may leed to a completely different disorientation, i.e., a different but symmetrically equivalent misorientation has a smaller
            misorientation angle.
         </p>
         <p style="font-size:1px;"></p>
         <table class="footer" border="0" width="100%" cellpadding="0" cellspacing="0">
            <tr>
               <td valign="baseline" align="right">DocHelp 0.1 beta</td>
            </tr>
         </table><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83346204-1', 'auto');
  ga('send', 'pageview');

   </script></div>
   </body>
</html>