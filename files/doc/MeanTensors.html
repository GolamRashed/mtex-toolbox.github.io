
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>Average Material Tensors (DocHelp Toolbox)
         
      </title>
      <!-- DOCNAME: DocHelp Toolbox -->
      <meta name="chunktype" content="refpage">
      <!-- CHUNKNAME: MeanTensors -->
      <!-- HEADSTUFF: MeanTensors -->
      <!-- HEADSTUFF -->
      <meta name="refentity" content="method:MeanTensors">
      <meta http-equiv="Content-Script-Type" content="text/javascript">
      <meta name="toctype" content="fcn">
      <link rel="stylesheet" href="up.css"><script language="JavaScript" src="docscripts.js"></script></head>
   <body><a name="top_of_page"></a><div class="navbar navbar-inverse navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container"><a class="brand" href="/">MTEX Toolbox</a><ul class="nav">
                  <li><a href="/download.html">Downloads</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/documentation.html">Documentation</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/team.html">People</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/publications.html">Publications</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/support.html">Support</a></li>
               </ul>
            </div>
         </div>
      </div>
      <div class="container">
         <h1>Average Material Tensors</h1>
         <div class="subheading">
            <p>how to calculate average material tensors from ODF and EBSD data</p>
         </div>
         <p>MTEX offers several ways to compute average material tensors from ODFs or EBSD data.</p>
         <div>
            <table class="content">
               <tr>
                  <td class="header">On this page ...</td>
               </tr>
               <tr>
                  <td><a href="#5">Import EBSD Data</a></td>
               </tr>
               <tr>
                  <td><a href="#7">Data Correction</a></td>
               </tr>
               <tr>
                  <td><a href="#8">Define Elastic Stiffness Tensors for Glaucophane and Epidote</a></td>
               </tr>
               <tr>
                  <td><a href="#10">The Average Tensor from EBSD Data</a></td>
               </tr>
               <tr>
                  <td><a href="#12">ODF Estimation</a></td>
               </tr>
               <tr>
                  <td><a href="#13">The Average Tensor from an ODF</a></td>
               </tr>
            </table>
         </div>
         <p>set up a nice colormap</p><pre class="codeinput">setMTEXpref(<span class="string">'defaultColorMap'</span>,blue2redColorMap);</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Import EBSD Data<a name="5"> </a></h2>
         <p>We start by importing some ebsd data of Glaucophane and Epidote.</p><pre class="codeinput">ebsd = loadEBSD([mtexDataPath <span class="string">'/EBSD/data.ctf'</span>],<span class="keyword">...</span>
  <span class="string">'convertEuler2SpatialReferenceFrame'</span>)</pre><pre class="codeoutput"> 
ebsd = EBSD  
 
 Phase  Orientations      Mineral        Color  Symmetry  Crystal reference frame
     0   28015 (56%)   notIndexed                                                
     1   13855 (28%)  Glaucophane   light blue     12/m1        X||a*, Y||b, Z||c
     2   4603 (9.2%)      Epidote  light green     12/m1        X||a*, Y||b, Z||c
     3   3213 (6.4%)       Pyrope    light red      m-3m                         
     4   295 (0.59%)    omphacite         cyan     12/m1        X||a*, Y||b, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 
</pre><p>Lets visualize a subset of the data</p><pre class="codeinput">plot(ebsd(inpolygon(ebsd,[2000 0 1400 375])))</pre><img src="MeanTensors_01.png"> <p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Data Correction<a name="7"> </a></h2>
         <p>next we correct the data by excluding orientations with large MAD value</p><pre class="codeinput"><span class="comment">% define maximum acceptable MAD value</span>
MAD_MAXIMUM= 1.3;

<span class="comment">% eliminate all meassurements with MAD larger than MAD_MAXIMUM</span>
ebsd(ebsd.mad &gt;MAD_MAXIMUM) = []

plot(ebsd(inpolygon(ebsd,[2000 0 1400 375])))</pre><pre class="codeoutput"> 
ebsd = EBSD  
 
 Phase  Orientations      Mineral        Color  Symmetry  Crystal reference frame
     0   28015 (56%)   notIndexed                                                
     1   13779 (28%)  Glaucophane   light blue     12/m1        X||a*, Y||b, Z||c
     2   4510 (9.1%)      Epidote  light green     12/m1        X||a*, Y||b, Z||c
     3   3212 (6.5%)       Pyrope    light red      m-3m                         
     4   218 (0.44%)    omphacite         cyan     12/m1        X||a*, Y||b, Z||c
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 
</pre><img src="MeanTensors_02.png"> <p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Define Elastic Stiffness Tensors for Glaucophane and Epidote<a name="8"> </a></h2>
         <p>Glaucophane elastic stiffness (Cij) Tensor in GPa Bezacier, L., Reynard, B., Bass, J.D., Wang, J., and Mainprice, D. (2010)
            Elasticity of glaucophane and seismic properties of high-pressure low-temperature oceanic rocks in subduction zones. Tectonophysics,
            494, 201-210.
         </p><pre class="codeinput"><span class="comment">% define the tensor coefficients</span>
MGlaucophane =<span class="keyword">...</span><span class="comment">.</span>
  [[122.28   45.69   37.24   0.00   2.35   0.00];<span class="keyword">...</span>
  [  45.69  231.50   74.91   0.00  -4.78   0.00];<span class="keyword">...</span>
  [  37.24   74.91  254.57   0.00 -23.74   0.00];<span class="keyword">...</span>
  [   0.00    0.00    0.00  79.67   0.00   8.89];<span class="keyword">...</span>
  [   2.35   -4.78  -23.74   0.00  52.82   0.00];<span class="keyword">...</span>
  [   0.00    0.00    0.00   8.89   0.00  51.24]];

<span class="comment">% define the reference frame</span>
csGlaucophane = crystalSymmetry(<span class="string">'2/m'</span>,[9.5334,17.7347,5.3008],<span class="keyword">...</span>
  [90.00,103.597,90.00]*degree,<span class="string">'X||a*'</span>,<span class="string">'Z||c'</span>,<span class="string">'mineral'</span>,<span class="string">'Glaucophane'</span>);

<span class="comment">% define the tensor</span>
CGlaucophane = tensor(MGlaucophane,csGlaucophane)</pre><pre class="codeoutput"> 
CGlaucophane = tensor  
  rank   : 4 (3 x 3 x 3 x 3)                     
  mineral: Glaucophane (12/m1, X||a*, Y||b, Z||c)
 
  tensor in Voigt matrix representation:
 122.28  45.69  37.24      0   2.35      0
  45.69  231.5  74.91      0  -4.78      0
  37.24  74.91 254.57      0 -23.74      0
      0      0      0  79.67      0   8.89
   2.35  -4.78 -23.74      0  52.82      0
      0      0      0   8.89      0  51.24
</pre><p>Epidote elastic stiffness (Cij) Tensor in GPa Aleksandrov, K.S., Alchikov, U.V., Belikov, B.P., Zaslavskii, B.I. and Krupnyi,
            A.I.: 1974 'Velocities of elastic waves in minerals at atmospheric pressure and increasing precision of elastic constants
            by means of EVM (in Russian)', Izv. Acad. Sci. USSR, Geol. Ser.10, 15-24.
         </p><pre class="codeinput"><span class="comment">% define the tensor coefficients</span>
MEpidote =<span class="keyword">...</span><span class="comment">.</span>
  [[211.50    65.60    43.20     0.00     -6.50     0.00];<span class="keyword">...</span>
  [  65.60   239.00    43.60     0.00    -10.40     0.00];<span class="keyword">...</span>
  [  43.20    43.60   202.10     0.00    -20.00     0.00];<span class="keyword">...</span>
  [   0.00     0.00     0.00    39.10      0.00    -2.30];<span class="keyword">...</span>
  [  -6.50   -10.40   -20.00     0.00     43.40     0.00];<span class="keyword">...</span>
  [   0.00     0.00     0.00    -2.30      0.00    79.50]];

<span class="comment">% define the reference frame</span>
csEpidote= crystalSymmetry(<span class="string">'2/m'</span>,[8.8877,5.6275,10.1517],<span class="keyword">...</span>
  [90.00,115.383,90.00]*degree,<span class="string">'X||a*'</span>,<span class="string">'Z||c'</span>,<span class="string">'mineral'</span>,<span class="string">'Epidote'</span>);

<span class="comment">% define the tensor</span>
CEpidote = tensor(MEpidote,csEpidote)</pre><pre class="codeoutput"> 
CEpidote = tensor  
  rank   : 4 (3 x 3 x 3 x 3)                 
  mineral: Epidote (12/m1, X||a*, Y||b, Z||c)
 
  tensor in Voigt matrix representation:
 211.5  65.6  43.2     0  -6.5     0
  65.6   239  43.6     0 -10.4     0
  43.2  43.6 202.1     0   -20     0
     0     0     0  39.1     0  -2.3
  -6.5 -10.4   -20     0  43.4     0
     0     0     0  -2.3     0  79.5
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>The Average Tensor from EBSD Data<a name="10"> </a></h2>
         <p>The Voigt, Reuss, and Hill averages for all phases are computed by</p><pre class="codeinput">[CVoigt,CReuss,CHill] =  calcTensor(ebsd({<span class="string">'Epidote'</span>,<span class="string">'Glaucophane'</span>}),CGlaucophane,CEpidote)</pre><pre class="codeoutput"> 
CVoigt = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^5
 25.063  6.002  7.789 -0.235 -0.518  0.617
  6.002 17.724  6.209 -0.467 -0.081  0.342
  7.789  6.209 23.786 -0.963 -0.325  0.209
 -0.235 -0.467 -0.963  7.035  0.267 -0.125
 -0.518 -0.081 -0.325  0.267  8.712   -0.2
  0.617  0.342  0.209 -0.125   -0.2  7.047
 
CReuss = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^-3
 17.236  4.091  5.131 -0.143 -0.404   0.42
  4.091 12.379  4.214 -0.295 -0.059  0.211
  5.131  4.214 16.333 -0.631 -0.244   0.13
 -0.143 -0.295 -0.631  4.884  0.202 -0.074
 -0.404 -0.059 -0.244  0.202  6.131 -0.158
   0.42  0.211   0.13 -0.074 -0.158  4.884
 
CHill = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^5
 12.532  3.001  3.894 -0.118 -0.259  0.309
  3.001  8.862  3.105 -0.234 -0.041  0.171
  3.894  3.105 11.893 -0.481 -0.162  0.104
 -0.118 -0.234 -0.481  3.517  0.134 -0.063
 -0.259 -0.041 -0.162  0.134  4.356   -0.1
  0.309  0.171  0.104 -0.063   -0.1  3.523
</pre><p>for a single phase the syntax is</p><pre class="codeinput">[CVoigtEpidote,CReussEpidote,CHillEpidote] =  calcTensor(ebsd(<span class="string">'Epidote'</span>),CEpidote)</pre><pre class="codeoutput"> 
CVoigtEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^4
 94.81 25.42 30.87 -0.67 -1.19  1.92
 25.42 80.01 25.77  0.01  0.34 -0.05
 30.87 25.77 92.85 -0.81 -0.04  0.56
 -0.67  0.01 -0.81 26.71   0.7  0.24
 -1.19  0.34 -0.04   0.7 32.85 -0.36
  1.92 -0.05  0.56  0.24 -0.36 26.84
 
CReussEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^-3
 43.69 12.79 15.43 -0.37 -0.52  0.92
 12.79 35.77 13.14 -0.02  0.27  0.01
 15.43 13.14 42.89 -0.39  0.17  0.23
 -0.37 -0.02 -0.39 11.46  0.37   0.1
 -0.52  0.27  0.17  0.37 14.74 -0.16
  0.92  0.01  0.23   0.1 -0.16 11.53
 
CHillEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation: *10^4
  47.4 12.71 15.43 -0.34  -0.6  0.96
 12.71    40 12.89     0  0.17 -0.03
 15.43 12.89 46.42 -0.41 -0.02  0.28
 -0.34     0 -0.41 13.35  0.35  0.12
  -0.6  0.17 -0.02  0.35 16.42 -0.18
  0.96 -0.03  0.28  0.12 -0.18 13.42
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>ODF Estimation<a name="12"> </a></h2>
         <p>Next we estimate an ODF for the Epidote phase</p><pre class="codeinput">odfEpidote = calcODF(ebsd(<span class="string">'Epidote'</span>).orientations,<span class="string">'halfwidth'</span>,10*degree)</pre><pre class="codeoutput"> 
odfEpidote = ODF  
  crystal symmetry : Epidote (12/m1, X||a*, Y||b, Z||c)
  specimen symmetry: 1
 
  Portion specified by Fourier coefficients:
    degree: 28
    weight: 1
 
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>The Average Tensor from an ODF<a name="13"> </a></h2>
         <p>The Voigt, Reuss, and Hill averages for the above ODF are computed by</p><pre class="codeinput">[CVoigtEpidote, CReussEpidote, CHillEpidote] =  <span class="keyword">...</span>
  calcTensor(odfEpidote,CEpidote)

<span class="comment">% set back the colormap</span>
setMTEXpref(<span class="string">'defaultColorMap'</span>,WhiteJetColorMap);</pre><pre class="codeoutput"> 
CVoigtEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 207.41  60.93  65.68  -0.81  -0.85   2.25
  60.93 170.74  61.02  -1.13  -0.14   2.25
  65.68  61.02 203.97  -1.13  -0.85   0.56
  -0.81  -1.13  -1.13  63.17   0.85  -0.35
  -0.85  -0.14  -0.85   0.85     70  -0.16
   2.25   2.25   0.56  -0.35  -0.16  64.07
 
CReussEpidote = tensor  
  rank            : 4 (3 x 3 x 3 x 3)
  doubleConvention: true             
 
  tensor in Voigt matrix representation:
 192.78  62.17  65.86  -2.03  -0.14   4.55
  62.17 157.03   62.9  -2.06   0.58   3.84
  65.86   62.9 190.66  -2.34  -0.13    0.6
  -2.03  -2.06  -2.34 219.36    3.9  -0.73
  -0.14   0.58  -0.13    3.9 251.69  -0.34
   4.55   3.84    0.6  -0.73  -0.34 222.63
 
CHillEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 200.09  61.55  65.77  -0.91  -0.46   2.26
  61.55 163.88  61.96  -1.08   0.07   2.08
  65.77  61.96 197.31  -1.15  -0.46   0.43
  -0.91  -1.08  -1.15     59   0.91  -0.27
  -0.46   0.07  -0.46   0.91  66.46  -0.12
   2.26   2.08   0.43  -0.27  -0.12  59.86
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <p style="font-size:1px;"></p>
         <table class="footer" border="0" width="100%" cellpadding="0" cellspacing="0">
            <tr>
               <td valign="baseline" align="right">DocHelp 0.1 beta</td>
            </tr>
         </table>
      </div>
   </body>
</html>