
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN">
<html xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
      <title>Average Material Tensors (DocHelp Toolbox)
         
      </title>
      <!-- DOCNAME: DocHelp Toolbox -->
      <meta name="chunktype" content="refpage">
      <!-- CHUNKNAME: MeanTensors -->
      <!-- HEADSTUFF: MeanTensors -->
      <!-- HEADSTUFF -->
      <meta name="refentity" content="method:MeanTensors">
      <meta http-equiv="Content-Script-Type" content="text/javascript">
      <meta name="toctype" content="fcn">
      <link rel="stylesheet" href="up.css"><script language="JavaScript" src="docscripts.js"></script></head>
   <body><a name="top_of_page"></a><div class="navbar navbar-inverse navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container"><a class="brand" href="/">MTEX Toolbox</a><ul class="nav">
                  <li><a href="/download.html">Downloads</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/documentation.html">Documentation</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/team.html">People</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/publications.html">Publications</a></li>
               </ul>
               <ul class="nav">
                  <li><a href="/support.html">Support</a></li>
               </ul>
            </div>
         </div>
      </div>
      <div class="container">
         <h1>Average Material Tensors</h1>
         <div class="subheading">
            <p>how to calculate average material tensors from ODF and EBSD data</p>
         </div>
         <p>MTEX offers several ways to compute average material tensors from ODFs or EBSD data.</p>
         <div>
            <table class="content">
               <tr>
                  <td class="header">On this page ...</td>
               </tr>
               <tr>
                  <td><a href="#5">Import EBSD Data</a></td>
               </tr>
               <tr>
                  <td><a href="#7">Data Correction</a></td>
               </tr>
               <tr>
                  <td><a href="#8">Define Elastic Stiffness Tensors for Glaucophane and Epidote</a></td>
               </tr>
               <tr>
                  <td><a href="#10">The Average Tensor from EBSD Data</a></td>
               </tr>
               <tr>
                  <td><a href="#12">ODF Estimation</a></td>
               </tr>
               <tr>
                  <td><a href="#13">The Average Tensor from an ODF</a></td>
               </tr>
            </table>
         </div>
         <p>set up a nice colormap</p><pre class="codeinput">setMTEXpref(<span class="string">'defaultColorMap'</span>,blue2redColorMap);</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Import EBSD Data<a name="5"> </a></h2>
         <p>We start by importing some EBSD data of Glaucophane and Epidote.</p><pre class="codeinput">ebsd = loadEBSD([mtexDataPath <span class="string">'/EBSD/data.ctf'</span>],<span class="keyword">...</span>
  <span class="string">'convertEuler2SpatialReferenceFrame'</span>)</pre><pre class="codeoutput"> 
ebsd = EBSD  
 
 Phase  Orientations      Mineral        Color  Symmetry  Crystal reference frame
     0   28015 (56%)   notIndexed                                                
     1   13855 (28%)  Glaucophane   light blue     12/m1        X||a, Y||b, Z||c*
     2   4603 (9.2%)      Epidote  light green     12/m1        X||a, Y||b, Z||c*
     3   3213 (6.4%)       Pyrope    light red      m-3m                         
     4   295 (0.59%)    omphacite         cyan     12/m1        X||a, Y||b, Z||c*
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 
</pre><p>Let's visualize a subset of the data</p><pre class="codeinput">plot(ebsd(inpolygon(ebsd,[2000 0 1400 375])))</pre><img src="MeanTensors_01.png"> <p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Data Correction<a name="7"> </a></h2>
         <p>next, we correct the data by excluding orientations with large MAD value</p><pre class="codeinput"><span class="comment">% define maximum acceptable MAD value</span>
MAD_MAXIMUM= 1.3;

<span class="comment">% eliminate all meassurements with MAD larger than MAD_MAXIMUM</span>
ebsd(ebsd.mad &gt;MAD_MAXIMUM) = []

plot(ebsd(inpolygon(ebsd,[2000 0 1400 375])))</pre><pre class="codeoutput"> 
ebsd = EBSD  
 
 Phase  Orientations      Mineral        Color  Symmetry  Crystal reference frame
     0   28015 (56%)   notIndexed                                                
     1   13779 (28%)  Glaucophane   light blue     12/m1        X||a, Y||b, Z||c*
     2   4510 (9.1%)      Epidote  light green     12/m1        X||a, Y||b, Z||c*
     3   3212 (6.5%)       Pyrope    light red      m-3m                         
     4   218 (0.44%)    omphacite         cyan     12/m1        X||a, Y||b, Z||c*
 
 Properties: bands, bc, bs, error, mad, x, y
 Scan unit : um
 
</pre><img src="MeanTensors_02.png"> <p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>Define Elastic Stiffness Tensors for Glaucophane and Epidote<a name="8"> </a></h2>
         <p>Glaucophane elastic stiffness (Cij) Tensor in GPa Bezacier, L., Reynard, B., Bass, J.D., Wang, J., and Mainprice, D. (2010)
            Elasticity of glaucophane and seismic properties of high-pressure low-temperature oceanic rocks in subduction zones. Tectonophysics,
            494, 201-210.
         </p><pre class="codeinput"><span class="comment">% define the tensor coefficients</span>
MGlaucophane =<span class="keyword">...</span><span class="comment">.</span>
  [[122.28   45.69   37.24   0.00   2.35   0.00];<span class="keyword">...</span>
  [  45.69  231.50   74.91   0.00  -4.78   0.00];<span class="keyword">...</span>
  [  37.24   74.91  254.57   0.00 -23.74   0.00];<span class="keyword">...</span>
  [   0.00    0.00    0.00  79.67   0.00   8.89];<span class="keyword">...</span>
  [   2.35   -4.78  -23.74   0.00  52.82   0.00];<span class="keyword">...</span>
  [   0.00    0.00    0.00   8.89   0.00  51.24]];

<span class="comment">% define the reference frame</span>
csGlaucophane = crystalSymmetry(<span class="string">'2/m'</span>,[9.5334,17.7347,5.3008],<span class="keyword">...</span>
  [90.00,103.597,90.00]*degree,<span class="string">'X||a*'</span>,<span class="string">'Z||c'</span>,<span class="string">'mineral'</span>,<span class="string">'Glaucophane'</span>);

<span class="comment">% define the tensor</span>
CGlaucophane = tensor(MGlaucophane,csGlaucophane)</pre><pre class="codeoutput"> 
CGlaucophane = tensor  
  rank   : 4 (3 x 3 x 3 x 3)                     
  mineral: Glaucophane (12/m1, X||a*, Y||b, Z||c)
 
  tensor in Voigt matrix representation:
 122.28  45.69  37.24      0   2.35      0
  45.69  231.5  74.91      0  -4.78      0
  37.24  74.91 254.57      0 -23.74      0
      0      0      0  79.67      0   8.89
   2.35  -4.78 -23.74      0  52.82      0
      0      0      0   8.89      0  51.24
</pre><p>Epidote elastic stiffness (Cij) Tensor in GPa Aleksandrov, K.S., Alchikov, U.V., Belikov, B.P., Zaslavskii, B.I. and Krupnyi,
            A.I.: 1974 'Velocities of elastic waves in minerals at atmospheric pressure and increasing the precision of elastic constants
            by means of EVM (in Russian)', Izv. Acad. Sci. USSR, Geol. Ser.10, 15-24.
         </p><pre class="codeinput"><span class="comment">% define the tensor coefficients</span>
MEpidote =<span class="keyword">...</span><span class="comment">.</span>
  [[211.50    65.60    43.20     0.00     -6.50     0.00];<span class="keyword">...</span>
  [  65.60   239.00    43.60     0.00    -10.40     0.00];<span class="keyword">...</span>
  [  43.20    43.60   202.10     0.00    -20.00     0.00];<span class="keyword">...</span>
  [   0.00     0.00     0.00    39.10      0.00    -2.30];<span class="keyword">...</span>
  [  -6.50   -10.40   -20.00     0.00     43.40     0.00];<span class="keyword">...</span>
  [   0.00     0.00     0.00    -2.30      0.00    79.50]];

<span class="comment">% define the reference frame</span>
csEpidote= crystalSymmetry(<span class="string">'2/m'</span>,[8.8877,5.6275,10.1517],<span class="keyword">...</span>
  [90.00,115.383,90.00]*degree,<span class="string">'X||a*'</span>,<span class="string">'Z||c'</span>,<span class="string">'mineral'</span>,<span class="string">'Epidote'</span>);

<span class="comment">% define the tensor</span>
CEpidote = tensor(MEpidote,csEpidote)</pre><pre class="codeoutput"> 
CEpidote = tensor  
  rank   : 4 (3 x 3 x 3 x 3)                 
  mineral: Epidote (12/m1, X||a*, Y||b, Z||c)
 
  tensor in Voigt matrix representation:
 211.5  65.6  43.2     0  -6.5     0
  65.6   239  43.6     0 -10.4     0
  43.2  43.6 202.1     0   -20     0
     0     0     0  39.1     0  -2.3
  -6.5 -10.4   -20     0  43.4     0
     0     0     0  -2.3     0  79.5
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>The Average Tensor from EBSD Data<a name="10"> </a></h2>
         <p>The Voigt, Reuss, and Hill averages for all phases are computed by</p><pre class="codeinput">[CVoigt,CReuss,CHill] =  calcTensor(ebsd({<span class="string">'Epidote'</span>,<span class="string">'Glaucophane'</span>}),CGlaucophane,CEpidote)</pre><pre class="codeoutput"> 
  The involved symmetries have different reference systems
  1: Glaucophane (12/m1, X||a, Y||b, Z||c*)
  2: Glaucophane (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
  The involved symmetries have different reference systems
  1: Glaucophane (12/m1, X||a, Y||b, Z||c*)
  2: Glaucophane (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
  The involved symmetries have different reference systems
  1: Epidote (12/m1, X||a, Y||b, Z||c*)
  2: Epidote (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
  The involved symmetries have different reference systems
  1: Epidote (12/m1, X||a, Y||b, Z||c*)
  2: Epidote (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
CVoigt = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 207.92  57.65  63.85  -0.41  -2.89   2.43
  57.65 160.29  58.69  -3.48  -0.13   3.61
  63.85  58.69 203.67  -5.28  -1.96  -0.05
  -0.41  -3.48  -5.28  63.61   0.97  -1.52
  -2.89  -0.13  -1.96   0.97  73.02  -0.93
   2.43   3.61  -0.05  -1.52  -0.93  65.44
 
CReuss = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 187.72  51.53   56.6   -0.5  -2.54   2.47
  51.53  146.2   52.4  -2.82   0.07   2.82
   56.6   52.4 184.68  -4.79  -1.59      0
   -0.5  -2.82  -4.79  57.37   0.99  -1.14
  -2.54   0.07  -1.59   0.99  66.73  -1.13
   2.47   2.82      0  -1.14  -1.13  58.95
 
CHill = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 197.82  54.59  60.22  -0.45  -2.71   2.45
  54.59 153.24  55.55  -3.15  -0.03   3.22
  60.22  55.55 194.17  -5.04  -1.77  -0.03
  -0.45  -3.15  -5.04  60.49   0.98  -1.33
  -2.71  -0.03  -1.77   0.98  69.87  -1.03
   2.45   3.22  -0.03  -1.33  -1.03   62.2
</pre><p>for a single phase the syntax is</p><pre class="codeinput">[CVoigtEpidote,CReussEpidote,CHillEpidote] =  calcTensor(ebsd(<span class="string">'Epidote'</span>),CEpidote)</pre><pre class="codeoutput"> 
  The involved symmetries have different reference systems
  1: Epidote (12/m1, X||a, Y||b, Z||c*)
  2: Epidote (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
  The involved symmetries have different reference systems
  1: Epidote (12/m1, X||a, Y||b, Z||c*)
  2: Epidote (12/m1, X||a*, Y||b, Z||c)
  I'm going to transform the data from the first one to the second one
 
 
CVoigtEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
  204.9  60.25  69.69  -2.32  -2.82   4.06
  60.25 172.91  59.59   2.77   2.17   0.48
  69.69  59.59 200.52  -1.19  -0.86   0.59
  -2.32   2.77  -1.19   63.6   0.29   0.98
  -2.82   2.17  -0.86   0.29  69.91  -1.85
   4.06   0.48   0.59   0.98  -1.85  65.63
 
CReussEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 190.91  60.75  72.26  -2.51  -2.21   4.27
  60.75 157.92  60.96   2.47   2.78    0.6
  72.26  60.96 187.42   -1.2  -0.17   0.79
  -2.51   2.47   -1.2  55.76   0.38   0.86
  -2.21   2.78  -0.17   0.38  61.96  -1.81
   4.27    0.6   0.79   0.86  -1.81  57.91
 
CHillEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 197.91   60.5  70.98  -2.41  -2.52   4.16
   60.5 165.42  60.27   2.62   2.48   0.54
  70.98  60.27 193.97  -1.19  -0.52   0.69
  -2.41   2.62  -1.19  59.68   0.33   0.92
  -2.52   2.48  -0.52   0.33  65.93  -1.83
   4.16   0.54   0.69   0.92  -1.83  61.77
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>ODF Estimation<a name="12"> </a></h2>
         <p>Next, we estimate an ODF for the Epidote phase</p><pre class="codeinput">odfEpidote = calcODF(ebsd(<span class="string">'Epidote'</span>).orientations,<span class="string">'halfwidth'</span>,10*degree)</pre><pre class="codeoutput"> 
odfEpidote = ODF  
  crystal symmetry : Epidote (12/m1, X||a, Y||b, Z||c*)
  specimen symmetry: 1
 
  Harmonic portion:
    degree: 28
    weight: 1
 
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <h2>The Average Tensor from an ODF<a name="13"> </a></h2>
         <p>The Voigt, Reuss, and Hill averages for the above ODF are computed by</p><pre class="codeinput">[CVoigtEpidote, CReussEpidote, CHillEpidote] =  <span class="keyword">...</span>
  calcTensor(odfEpidote,CEpidote)

<span class="comment">% set back the colormap</span>
setMTEXpref(<span class="string">'defaultColorMap'</span>,WhiteJetColorMap);</pre><pre class="codeoutput"> 
CVoigtEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 208.94  57.35  67.73  -1.31  -2.25   3.75
  57.35 177.36  57.99  -0.15   0.58   0.23
  67.73  57.99 204.96  -1.61  -0.18   1.08
  -1.31  -0.15  -1.61  60.13   1.37   0.37
  -2.25   0.58  -0.18   1.37  72.05  -0.66
   3.75   0.23   1.08   0.37  -0.66  60.49
 
CReussEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 195.18  58.63  68.58  -1.49  -1.82   3.66
  58.63 161.47     60  -0.24   0.99    0.3
  68.58     60 192.09   -1.6   0.62   0.87
  -1.49  -0.24   -1.6   52.4   1.49   0.35
  -1.82   0.99   0.62   1.49  65.38  -0.57
   3.66    0.3   0.87   0.35  -0.57  52.74
 
CHillEpidote = tensor  
  rank: 4 (3 x 3 x 3 x 3)
 
  tensor in Voigt matrix representation:
 202.06  57.99  68.15   -1.4  -2.03    3.7
  57.99 169.42  58.99  -0.19   0.79   0.27
  68.15  58.99 198.53   -1.6   0.22   0.97
   -1.4  -0.19   -1.6  56.27   1.43   0.36
  -2.03   0.79   0.22   1.43  68.71  -0.62
    3.7   0.27   0.97   0.36  -0.62  56.61
</pre><p class="pagenavlink"><script language="Javascript">addTopOfPageButtons();</script><a href="#top_of_page">Back to Top</a></p>
         <p style="font-size:1px;"></p>
         <table class="footer" border="0" width="100%" cellpadding="0" cellspacing="0">
            <tr>
               <td valign="baseline" align="right">DocHelp 0.1 beta</td>
            </tr>
         </table><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83346204-1', 'auto');
  ga('send', 'pageview');

   </script></div>
   </body>
</html>